{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[products,setProducts]=useState([]);const[filteredProducts,setFilteredProducts]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[error,setError]=useState(null);useEffect(()=>{axios.get('https://v2.api.noroff.dev/online-shop').then(response=>{setProducts(response.data.data);setFilteredProducts(response.data.data);}).catch(error=>{setError(error.message);});},[]);const handleSearch=event=>{const term=event.target.value;setSearchTerm(term);if(term.trim()===''){setFilteredProducts(products);}else{const filtered=products.filter(product=>product.title.toLowerCase().includes(term.toLowerCase()));setFilteredProducts(filtered);}};const defaultImage='https://via.placeholder.com/150';return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Product List\"}),error&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:handleSearch,placeholder:\"Search for products...\"}),/*#__PURE__*/_jsx(\"ul\",{children:filteredProducts.length>0?filteredProducts.map(product=>/*#__PURE__*/_jsxs(\"li\",{style:{listStyleType:'none',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"img\",{src:product.image&&product.image.url?product.image.url:defaultImage,alt:product.title,className:\"product-image\",onError:e=>e.target.src=defaultImage,style:{width:'150px',height:'150px'}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:product.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"$\",product.price]}),/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(product.id),children:/*#__PURE__*/_jsx(\"button\",{style:{padding:'10px 20px',backgroundColor:'#007bff',color:'white',border:'none',borderRadius:'5px',cursor:'pointer'},children:\"View Product\"})})]})]},product.id)):/*#__PURE__*/_jsx(\"p\",{children:\"No products available\"})})]});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsx","_jsx","jsxs","_jsxs","Home","products","setProducts","filteredProducts","setFilteredProducts","searchTerm","setSearchTerm","error","setError","get","then","response","data","catch","message","handleSearch","event","term","target","value","trim","filtered","filter","product","title","toLowerCase","includes","defaultImage","children","type","onChange","placeholder","length","map","style","listStyleType","marginBottom","src","image","url","alt","className","onError","e","width","height","price","to","concat","id","padding","backgroundColor","color","border","borderRadius","cursor"],"sources":["C:/Users/sondr/Documents/Noroff FEU/Javascript-Frameworks/ecom-store/src/components/Home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Home = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [filteredProducts, setFilteredProducts] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    axios.get('https://v2.api.noroff.dev/online-shop')\r\n      .then(response => {\r\n        setProducts(response.data.data);\r\n        setFilteredProducts(response.data.data);\r\n      })\r\n      .catch(error => {\r\n        setError(error.message);\r\n      });\r\n  }, []);\r\n\r\n  const handleSearch = (event) => {\r\n    const term = event.target.value;\r\n    setSearchTerm(term);\r\n    if (term.trim() === '') {\r\n      setFilteredProducts(products);\r\n    } else {\r\n      const filtered = products.filter(product => \r\n        product.title.toLowerCase().includes(term.toLowerCase())\r\n      );\r\n      setFilteredProducts(filtered);\r\n    }\r\n  };\r\n\r\n  const defaultImage = 'https://via.placeholder.com/150';\r\n\r\n  return (\r\n    <div>\r\n      <h1>Product List</h1>\r\n      {error && <p>Error: {error}</p>}\r\n      <input \r\n        type=\"text\" \r\n        value={searchTerm} \r\n        onChange={handleSearch} \r\n        placeholder=\"Search for products...\" \r\n      />\r\n      <ul>\r\n        {filteredProducts.length > 0 ? (\r\n          filteredProducts.map(product => (\r\n            <li key={product.id} style={{ listStyleType: 'none', marginBottom: '20px' }}>\r\n              <img \r\n                src={product.image && product.image.url ? product.image.url : defaultImage} \r\n                alt={product.title} \r\n                className=\"product-image\" \r\n                onError={(e) => e.target.src = defaultImage}\r\n                style={{ width: '150px', height: '150px' }}\r\n              />\r\n              <div>\r\n                <h2>{product.title}</h2>\r\n                <p>${product.price}</p>\r\n                <Link to={`/product/${product.id}`}>\r\n                  <button style={{ padding: '10px 20px', backgroundColor: '#007bff', color: 'white', border: 'none', borderRadius: '5px', cursor: 'pointer' }}>\r\n                    View Product\r\n                  </button>\r\n                </Link>\r\n              </div>\r\n            </li>\r\n          ))\r\n        ) : (\r\n          <p>No products available</p>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}